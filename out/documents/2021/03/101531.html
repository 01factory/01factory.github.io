<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title class="jsx-2893578415">01factory|01微工厂</title><meta name="keywords" content="01factory,dfactory,01" class="jsx-2893578415"/><meta name="description" content="微工厂,从零到壹，数字之道" class="jsx-2893578415"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" class="jsx-2893578415"/><link rel="icon" type="image/x-icon" sizes="32x32" href="/favicon-32x32.ico" class="jsx-2893578415"/><link rel="icon" type="image/x-icon" sizes="16x16" href="/favicon-16x16.ico" class="jsx-2893578415"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/350e09057e231801b32f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/350e09057e231801b32f.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" as="script"/><link rel="preload" href="/_next/static/chunks/d59dcf7f32a245abc64a6405ef1dce9161f1a8bf.65571f932be9853a08b3.js" as="script"/><link rel="preload" href="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.7f522d4c44240e733215.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-99016dfb960f134c798a.js" as="script"/><link rel="preload" href="/_next/static/chunks/97441fe2b503c77439bc39e0ef50bbe5e8642838.9b340f9d21cfc83997ce.js" as="script"/><link rel="preload" href="/_next/static/chunks/d006a03c77e1b24ad06b238024f496d74bbfc1db.73d35c9d2664c8d142ad.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7467674471030778f3eb.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/documents/2021/03/101531-4f726eb5a4ddd53eebfc.js" as="script"/></head><body><div id="__next"><div class="jsx-86683480 row "><div class="jsx-180329529 col s002"><div class="jsx-2893578415 outer"><header class="jsx-2893578415 inner"><a class="jsx-2893578415" href="/"><img height="150" width="217" src="/images/logo.png" class="jsx-2893578415 s001"/></a></header></div></div></div><div class="jsx-86683480 row "><div class="jsx-158700623 col "><a class="jsx-2893578415" href="/home_design"><h2 class="jsx-244854117  ">方案文档</h2></a></div><div class="jsx-158700623 col "><a class="jsx-2893578415" href="/"><h2 class="jsx-244854117  ">开发文档</h2></a></div><div class="jsx-158700623 col "><a class="jsx-2893578415" href="/home_ops"><h2 class="jsx-244854117  ">运维文档</h2></a></div></div><div class="jsx-788945023"><h1>JSON</h1><h2>定义</h2><blockquote><p>JSON(JavaScript Object Notation, JS 对象简谱) 是一种轻量级的数据交换格式。它基于 ECMAScript (欧洲计算机协会制定的js规范)的一个子集，采用完全独立于编程语言的文本格式来存储和表示数据。简洁和清晰的层次结构使得 JSON 成为理想的数据交换语言。 易于人阅读和编写，同时也易于机器解析和生成，并有效地提升网络传输效率。</p></blockquote><p>摘自<a href="https://baike.baidu.com/item/JSON/2462549">百度百科</a></p><p>这是一种轻量级的数据交换格式，大约在2000年以前，大家在进行数据交换的时候基本上都是使用xml</p><ul><li>简洁和清晰的层次结构</li><li>易于人阅读和编写</li><li>易于机器解析和生成</li><li>能有效地提升网络传输效率</li></ul><p>相比较xml，JSON一个最大的优势就是非常直观易读。现在基本上进行数据传输的时候大家都会倾向于使用JSON格式。</p><h2>发音</h2><p>正确的发音为<code>计诶斯恩</code></p><h2>误解</h2><h3>json=js对象</h3><p>不少人实际上并没有搞清楚json和js对象的差别。其实记住一条就行：<strong>json只是一个字符串</strong></p><h3>json={}</h3><p>也有不少人对json有误解，认为json只能转换为带花括号的键值对，至少最外层必须是。事实上，json几乎可以是任何js类型，包括：</p><ol><li><code>Object</code></li><li><code>Array</code></li><li><code>string</code></li><li><code>number</code></li><li><code>boolean</code></li></ol><p>其中，Object和Array是最常用的两种类型</p><p>以下两种类型（如果你认为这是两种类型的话）是不能在json中被使用的，注意，这里并非指的是jsObject的值类型，而是整个js对象的值。</p><ol><li><code>undefined</code></li><li><code>NaN</code></li></ol><h2>JSON中的数据类型</h2><h3>字符串</h3><pre class="language-json"><code class="language-json"><span class="token string">&quot;Hello&quot;</span>
</code></pre><h3>数值</h3><pre class="language-json"><code class="language-json"><span class="token number">123</span>
</code></pre><h3>布尔类型</h3><pre class="language-json"><code class="language-json"><span class="token boolean">true</span>
<span class="token boolean">false</span>
</code></pre><h3>对象</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">&quot;foo&quot;</span><span class="token operator">:</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">}</span>
</code></pre><h3>数组</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><h3>日期</h3><p>日期类型不属于JSON中的数据类型，之所以在这里列出，是因为JSON中的数据类型与开发语言以及数据库的字段类型中常见的数据类型相比，这个类型是没有的，那么，我们如何传输数据类型呢？</p><p>一种相对较通用的方式是在数据设计中不要使用日期类型，JSON中缺少日期类型是其中一个原因，当然还有另外的原因，比如不同的数据库的日期类型会有不同，如果要进行数据库迁移的话，这会是个相对麻烦的事。不使用日期类型使用什么呢，当然是使用时间戳了。时间戳是一个长整型，而这种类型无论是开发语言，数据库还是JSON，都是支持的。各开发语言中也都可以非常方便地把时间戳转换为日期类型或是需要显示的日期格式（通常是个字符串）。</p><h2>从对象转换为 JSON 字符串</h2><p>复制以下例子，在node命令行或浏览器中均可以看到结果</p><pre class="language-js"><code class="language-js"><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token string">&#x27;Hello&#x27;</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">&#x27;World&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//结果是 &#x27;{&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;}&#x27;</span>
</code></pre><h2>从 JSON 转换为对象</h2><pre class="language-js"><code class="language-js"><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token string">&#x27;{&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;}&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//结果是 {a: &#x27;Hello&#x27;, b: &#x27;World&#x27;}</span>
</code></pre><p>之所以很多JavaScript开发人员搞不清楚js对象和JSON字符串的关系是因为它们长地太像了。从以上例子可以看得出来。</p><h2>转换方法</h2><h3>js对象 =&gt; json</h3><pre class="language-js"><code class="language-js"><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3>json =&gt; js对象</h3><pre class="language-js"><code class="language-js"><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token string">&quot;{}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token string">&quot;[]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token string">&quot;\&quot;abc\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3>提示</h3><ol><li>千万不要以为json和js对象的转换很简单，自作聪明去拼字符串。</li><li>千万不要使用<code>eval</code>替换<code>JSON.parse</code></li></ol><h2>工具</h2><p>有时候我们为了查看一个json的格式，需要用到一些工具。比如在windows上的xmlspy，对于开发人员来说，几乎任意一款编辑器都可以方便地格式化json，像vscode，对json可以很方便地格式化。</p><p>如果这些你都没有怎么办？只要有网络，网上在线解析json的网站一搜一大把。如果你的电脑上不了网怎么办？借助浏览器开发工具，相信多数人都会使用浏览器的吧，不管你上不上网，基本都会有，比如谷歌或是基于chrome内核的一些国产浏览器如qq浏览器，360浏览器等，都可以找到开发工具并打开，在控制台将字符串粘进去回车，就可以看到格式化好的对象了，是不是很方便？</p><h2>json vs xml</h2><p>不用比，适合你的就是最好的，打架没必要，世人自有公论，真想了解的话，<a href="https://www.baidu.com/s?wd=json+vs+xml">到这里找</a>。</p></div><div class="jsx-1988653958 outer"><footer class="jsx-1988653958 inner"><a href="https://github.com/01factory/01factory.github.io/edit/main/src/pages/main.md" target="_blank" rel="noreferrer noopener" class="jsx-1988653958"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" class="jsx-1988653958 s001"><g class="jsx-1988653958"><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z" class="jsx-1988653958"></path></g></svg>Edit this page on Github</a><br class="jsx-1988653958"/><a href="https://gitee.com/dfactory01/dfactory01/edit/main/src/pages/main.md" target="_blank" rel="noreferrer noopener" class="jsx-1988653958"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" class="jsx-1988653958 s001"><g class="jsx-1988653958"><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z" class="jsx-1988653958"></path></g></svg>Edit this page on Gitee</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/documents/2021/03/101531","query":{},"buildId":"_fFKntTW3S-P79kvAAV6k","runtimeConfig":{},"nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-b5d19c9fca67e1a85665.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" async=""></script><script src="/_next/static/chunks/d59dcf7f32a245abc64a6405ef1dce9161f1a8bf.65571f932be9853a08b3.js" async=""></script><script src="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.7f522d4c44240e733215.js" async=""></script><script src="/_next/static/chunks/main-99016dfb960f134c798a.js" async=""></script><script src="/_next/static/chunks/97441fe2b503c77439bc39e0ef50bbe5e8642838.9b340f9d21cfc83997ce.js" async=""></script><script src="/_next/static/chunks/d006a03c77e1b24ad06b238024f496d74bbfc1db.73d35c9d2664c8d142ad.js" async=""></script><script src="/_next/static/chunks/pages/_app-7467674471030778f3eb.js" async=""></script><script src="/_next/static/chunks/pages/documents/2021/03/101531-4f726eb5a4ddd53eebfc.js" async=""></script><script src="/_next/static/_fFKntTW3S-P79kvAAV6k/_buildManifest.js" async=""></script><script src="/_next/static/_fFKntTW3S-P79kvAAV6k/_ssgManifest.js" async=""></script></body></html>