<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title class="jsx-2893578415">01factory|01微工厂</title><meta name="keywords" content="01factory,dfactory,01" class="jsx-2893578415"/><meta name="description" content="微工厂,从零到壹，数字之道" class="jsx-2893578415"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" class="jsx-2893578415"/><link rel="icon" type="image/x-icon" sizes="32x32" href="/favicon-32x32.ico" class="jsx-2893578415"/><link rel="icon" type="image/x-icon" sizes="16x16" href="/favicon-16x16.ico" class="jsx-2893578415"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/350e09057e231801b32f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/350e09057e231801b32f.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" as="script"/><link rel="preload" href="/_next/static/chunks/6510696646ad4cd66cb0c17a783768443548e3b8.e5ebd9a9dc48937a5931.js" as="script"/><link rel="preload" href="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.7f522d4c44240e733215.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-bad2ebf842509aaadfd5.js" as="script"/><link rel="preload" href="/_next/static/chunks/693f8c4e356737073a5466c81465a491552d424e.9b340f9d21cfc83997ce.js" as="script"/><link rel="preload" href="/_next/static/chunks/801083a74bf00b93b65919d9815099ccd016c024.47e830ac23167e0dbf80.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-f9a9a13c71df3f6c68ee.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/documents/2021/03/13-4-201807170924-88c5d8846e782a22278c.js" as="script"/></head><body><div id="__next"><div class="jsx-86683480 row "><div class="jsx-180329529 col s002"><div class="jsx-2893578415 outer"><header class="jsx-2893578415 inner"><a class="jsx-2893578415" href="/"><img height="150" width="217" src="/images/logo.png" class="jsx-2893578415 s001"/></a></header></div></div></div><div class="jsx-86683480 row "><div class="jsx-158700623 col "><a class="jsx-2893578415" href="/home_design"><h2 class="jsx-244854117  ">方案文档</h2></a></div><div class="jsx-158700623 col "><a class="jsx-2893578415" href="/"><h2 class="jsx-244854117  ">开发文档</h2></a></div><div class="jsx-158700623 col "><a class="jsx-2893578415" href="/home_ops"><h2 class="jsx-244854117  ">运维文档</h2></a></div></div><div class="jsx-788945023"><h1>bash环境变量配置</h1><blockquote><table><thead><tr><th align="left">文件名称</th><th align="right">bash环境变量配置</th></tr></thead><tbody><tr><td align="left">编制部门</td><td align="right">后台运维</td></tr><tr><td align="left">作者</td><td align="right">丁正凯</td></tr><tr><td align="left">当前版本</td><td align="right">201807171203</td></tr><tr><td align="left">受众范围</td><td align="right">运维学员</td></tr></tbody></table><hr/></blockquote><p>项目名称</p><p>文件名称</p><p>bash环境变量配置</p><p>编制部门</p><p>后台运维</p><p>作者</p><p>丁正凯</p><p>当前版本</p><p>201807170924</p><p>受众范围</p><p>后台运维</p><p>文档控制</p><p><strong>修改记录</strong></p><p>日期</p><p>版本</p><p>修改类型</p><p>修改主要内容</p><p>作者</p><p>◆修改类型：A增加、B删除、C修改</p><p><strong>审阅人</strong></p><p>姓名</p><p>部门</p><p>职位</p><p>审阅签字</p><p>审阅时间</p><p><strong>存档</strong></p><p>存档时间</p><p>存放方式</p><p>存放地点、位置</p><p>备注</p><p>◆存放方式：A电子、B纸质</p><p>目录</p><p>1 环境变量	1</p><p>2 环境变量配置文件	2</p><p>2<!-- -->.<!-- -->1 登录shell会读取的配置文件	2</p><p>2<!-- -->.<!-- -->2 配置文件解读	2</p><p>3 bash配置文件分类	3</p><p>3<!-- -->.<!-- -->1 按生效范围划分	3</p><p>3<!-- -->.<!-- -->2 按功能划分	3</p><p>3<!-- -->.<!-- -->2<!-- -->.<!-- -->1 profile类	4</p><p>3<!-- -->.<!-- -->2<!-- -->.<!-- -->2 bashrc类	4</p><p>4 编辑配置文件生效	4</p><p>5 bash退出任务	4</p><p>6 公司服务器配置变量和别名	5</p><ol><li><a href=""></a><a href=""></a><a href=""></a><a href=""></a><a href=""></a>环境变量</li></ol><p>环境变量：生效范围为当前shell进程及其子进程 </p><p>变量声明、赋值：</p><pre><code>export name=VALUE

declare \-x name=VALUE

</code></pre><p>变量引用：$name, $<!-- -->{<!-- -->name<!-- -->}</p><p>删除变量：unset name</p><p>显示所有环境变量（环境变量的查询）：</p><pre><code>
env

printenv

export

declare \-x

</code></pre><p>示例如下：</p><pre><code>
\#env  列出环境下所有环境变量与其内容

</code></pre><p>结果如下：</p><pre><code>
HOSTNAME=centos6\.magedu\.com  主机名

TERM=linux 这个终端机使用的环境是什么类型

SHELL=/bin/bash目前这个环境下使用的shell是哪个程序

USER=root用户的名称

RANDOM  随机数变量
</code></pre><p>#<!-- -->set 可查看所有的变量</p><p>重要变量有：</p><pre><code>
PS1\(提示符的设置）

$（关于本shell的PID\)

?\(关于上个执行命令的回传码）

</code></pre><p>bash内建的环境变量：</p><pre><code>
PATH

SHELL

USER

UID

HOME

PWD

LANG

HOSTNAME

HISTSIZE
</code></pre><ol><li><a href=""></a><a href=""></a><a href=""></a>环境变量配置文件<ol><li><a href=""></a><a href=""></a><a href=""></a>登录shell会读取的配置文件</li></ol></li></ol><pre><code>
/etc/profile：系统整体的设置

~/\.bash\_profile或 ~/\.bash\_login或 ~/\.profile：用户个人设置，要修改个人数据就在这里写入。

- 
</code></pre><pre><code>1. []()[]()[]()配置文件解读
</code></pre><p>1、/etc/profile：利用用户的UID来决定重要的变量数据，是每个用户登录取得bash时一定会读取的配置文件。还会调用外部的设置数据，以下数据依照顺序被调用：</p><pre><code>
/etc/inputrc

/etc/profile\.d/\*\.sh

/etc/sysconfig/i18n

</code></pre><p>全局的配置在/etc/profile<!-- -->.<!-- -->d/custom<!-- -->.<!-- -->sh</p><pre><code>1. ～/\.bash\_profile：bash读完整体环境设置的/etc/profile并借此调用其他配置文件后，接下来会读取用户的个人配置文件。读取个人偏好配置文件主要三个，依序分别是：

~/\.bash\_profile

~/\.bash\_login

~/\.profile

</code></pre><p>bash的login shell设置只会读取上面三个文件中的其中一个，而读取顺序则是依照上面的顺序。也就是说如果~/<!-- -->.<!-- -->bash<!-- -->_<!-- -->profile存在，那么其他两个文件不论是否存在，都不会被读取。如果~/<!-- -->.<!-- -->bash<!-- -->_<!-- -->profile不存在才会去读取~/<!-- -->.<!-- -->bash<!-- -->_<!-- -->login，而前两者都不存在才会读取~/<!-- -->.<!-- -->profile。</p><pre><code>
\[feidao@soa\-centos\-40\-195 ~\]$ cat \.bash\_profile 

\# \.bash\_profile

\# Get the aliases and functions

if \[ \-f ~/\.bashrc \]; then       \#这三行判断并读取 ～/\.bashrc

    \. ~/\.bashrc   

fi

\# User specific environment and startup programs

PATH=$PATH:$HOME/\.local/bin:$HOME/bin      \#这两行处理个人化设置

export PATH

</code></pre><ol><li><a href=""></a><a href=""></a><a href=""></a>bash配置文件分类<ol><li><a href=""></a><a href=""></a><a href=""></a>按生效范围划分</li></ol></li></ol><p>存在两类：</p><p>全局配置：放在ETC目录下</p><pre><code>
/etc/profile

/etc/profile\.d/\*\.sh

/etc/bashrc

</code></pre><p>个人配置：放在用户家目录下</p><pre><code>
~/\.bash\_profile

~/\.bashrc

- 
</code></pre><pre><code>1. []()[]()[]()按功能划分
</code></pre><p>存在两类：</p><p>profile类和bashrc类</p><ul><li><ul><li><ol><li><a href=""></a><a href=""></a><a href=""></a>profile类</li></ol></li></ul></li></ul><p>profile类：为交互式登录的shell提供配置</p><p>全局：/etc/profile, /etc/profile<!-- -->.<!-- -->d/<!-- -->*<!-- -->.<!-- -->sh</p><p>个人：~/<!-- -->.<!-- -->bash<!-- -->_<!-- -->profile</p><p>功用：<!-- -->(<!-- -->1<!-- -->)<!-- --> 用于定义环境变量</p><pre><code>  \(2\) 运行命令或脚本
</code></pre><ul><li><ul><li><ol><li><a href=""></a><a href=""></a><a href=""></a>bashrc类</li></ol></li></ul></li></ul><p>为非交互式和交互式登录的shell提供配置 </p><p>全局：/etc/bashrc </p><p>个人：~/<!-- -->.<!-- -->bashrc </p><p>功用： <!-- -->(<!-- -->1<!-- -->)<!-- --> 定义命令别名和函数</p><pre><code>    \(2\) 定义本地变量
</code></pre><ol><li><a href=""></a><a href=""></a><a href=""></a>编辑配置文件生效</li></ol><p>修改profile和bashrc文件后需生效（退出时使用文件）两种方法:</p><p>（1）重新启动shell进程</p><p>（2） <!-- -->.<!-- --> 或source<!-- -->(<!-- -->语法：source  filename ;    <!-- -->.<!-- -->   filename<!-- -->)</p><pre><code>
   例:   source  /etc/profile

             \.   ~/\.bashrc

</code></pre><ol><li><a href=""></a><a href=""></a><a href=""></a>bash退出任务</li></ol><p>保存在~/<!-- -->.<!-- -->bash<!-- -->_<!-- -->logout文件中（用户），在退出登录shell时运行</p><p>用于：</p><pre><code>  （1）创建自动备份

  （2）清除临时文件
</code></pre><ol><li><a href=""></a><a href=""></a>公司服务器配置变量和别名</li></ol><pre><code>
__所有自定的环境变量放在 __/etc/profile\.d/custom\.sh __。__

export PS1=&quot;\\\[\\e\[35;1m\\\]\[\\u@\\h \\w\]\\\\$\\\[\\e\[m\\\] &quot;

alias sudo=&#x27;sudo &#x27;

alias egrep=&#x27;egrep \-\-color=auto&#x27;

alias fgrep=&#x27;fgrep \-\-color=auto&#x27;

alias grep=&#x27;grep \-\-color=auto&#x27;

alias ls=&#x27;ls \-\-color=auto&#x27;

alias l\.=&#x27;ls \-d \.\* \-\-color=auto&#x27;

alias ll=&#x27;ls \-l \-\-color=auto&#x27;

alias l=&#x27;ls \-laF&#x27;

alias cp=&#x27;cp \-i&#x27;

alias mv=&#x27;mv \-i&#x27;

alias rm=&#x27;rm \-i&#x27;

alias now=&#x27;date \+%Y%m%d%H%M%S&#x27;

</code></pre><p><strong>以上是基本的最常用的，实际需要的其他变量，在文件后追加，如：</strong></p><pre><code>
export JAVA\_HOME=/data/soft/jdk

export CATALINA\_BASE=/data/soft/apache\-tomcat\-9\.0\.8

export CATALINA\_HOME=/data/soft/apache\-tomcat\-9\.0\.8

export PATH=$JAVA\_HOME/bin:$CATALINA\_BASE/bin:$CATALINA\_HOME/bin:$PATH
</code></pre></div><div class="jsx-1988653958 outer"><footer class="jsx-1988653958 inner"><a href="https://github.com/01factory/01factory.github.io/edit/main/src/pages/main.md" target="_blank" rel="noreferrer noopener" class="jsx-1988653958"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" class="jsx-1988653958 s001"><g class="jsx-1988653958"><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z" class="jsx-1988653958"></path></g></svg>Edit this page on Github</a><br class="jsx-1988653958"/><a href="https://gitee.com/dfactory01/dfactory01/edit/main/src/pages/main.md" target="_blank" rel="noreferrer noopener" class="jsx-1988653958"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" class="jsx-1988653958 s001"><g class="jsx-1988653958"><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z" class="jsx-1988653958"></path></g></svg>Edit this page on Gitee</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/documents/2021/03/13-4-201807170924","query":{},"buildId":"lSL8VPdjxtYbT6GXPMIlv","runtimeConfig":{},"nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-8b53b300207b60157587.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.f8bd46fc02868c500bda.js" async=""></script><script src="/_next/static/chunks/6510696646ad4cd66cb0c17a783768443548e3b8.e5ebd9a9dc48937a5931.js" async=""></script><script src="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.7f522d4c44240e733215.js" async=""></script><script src="/_next/static/chunks/main-bad2ebf842509aaadfd5.js" async=""></script><script src="/_next/static/chunks/693f8c4e356737073a5466c81465a491552d424e.9b340f9d21cfc83997ce.js" async=""></script><script src="/_next/static/chunks/801083a74bf00b93b65919d9815099ccd016c024.47e830ac23167e0dbf80.js" async=""></script><script src="/_next/static/chunks/pages/_app-f9a9a13c71df3f6c68ee.js" async=""></script><script src="/_next/static/chunks/pages/documents/2021/03/13-4-201807170924-88c5d8846e782a22278c.js" async=""></script><script src="/_next/static/lSL8VPdjxtYbT6GXPMIlv/_buildManifest.js" async=""></script><script src="/_next/static/lSL8VPdjxtYbT6GXPMIlv/_ssgManifest.js" async=""></script></body></html>