磁盘与分区

项目名称

运维文档

文件名称

磁盘分区与分区

编制部门

后台运维

作者

孙辉阳

当前版本

201807171751

受众范围

后台运维

文档控制

__修改记录__

日期

版本

修改类型

修改主要内容

作者

◆修改类型：A增加、B删除、C修改

__审阅人__

姓名

部门

职位

审阅签字

审阅时间

__存档__

存档时间

存放方式

存放地点、位置

备注

◆存放方式：A电子、B纸质

目录

1 硬盘	1

2 分区	1

2\.1 主分区	2

2\.2 扩展分区	2

2\.3 逻辑分区	2

2\.4 激活分区	3

2\.5 高级格式化	3

3 GPT分区与MBR分区	3

3\.1 MBR分区	4

3\.2 GPT分区	4

1. []()硬盘

参考：

百度百科

硬盘是电脑主要的存储媒介之一，传统硬盘由一个或者多个铝制或者玻璃制的碟片组成。碟片外覆盖有铁磁性材料。

硬盘有固态硬盘（SSD 盘，新式硬盘）、机械硬盘（HDD 传统硬盘）、混合硬盘（HHD 一块基于传统机械硬盘诞生出来的新硬盘）。SSD采用闪存颗粒来存储，HDD采用磁性碟片来存储，混合硬盘\(HHD: Hybrid Hard Disk\)是把磁性硬盘和闪存集成到一起的一种硬盘。

1. []()分区

参考：

http://www\.miui\.com/thread\-12395574\-1\-1\.html

https://baike\.baidu\.com/item/%E6%A0%BC%E5%BC%8F%E5%8C%96/650

生产的硬盘必须经过低级格式化、分区和高级格式化（以下均简称为格式化）三个处理步骤后，电脑才能利用它们存储数据。

磁盘的低级格式化通常由生产厂家完成，目的是划定磁盘可供使用的扇区和磁道并标记有问题的扇区；而用户则需要使用操作系统所提供的磁盘工具程序进行硬盘“分区”和“格式化”。

低级格式化就是将空白的磁盘划分出柱面和磁道，再将磁道划分为若干个扇区，每个扇区又划分出标识部分ID、间隔区GAP和数据区DATA等。

我们常常将每块硬盘（即硬盘实物）称为物理盘，而将在硬盘分区之后所建立的具有“C：”或“D：”等各类“Drive/驱动器”称为逻辑盘。逻辑盘是系统为控制和管理物理硬盘而建立的操作对象，一块物理盘可以设置成一块逻辑盘也可以设置成多块逻辑盘使用。在对硬盘的分区和格式化处理步骤中，建立分区和逻辑盘是对硬盘进行格式化处理的必然条件，用户可以根据物理硬盘容量和自己的需要建立主分区、扩展分区和逻辑盘符后，再通过格式化处理来为硬盘分别建立引导区（BOOT）、文件分配表（FAT）和数据存储区（DATA），只有经过以上处理之后，硬盘才能在电脑中正常使用。

- 
	1. []()主分区

MBR分区表模式下，主分区,也称为主磁盘分区,和扩展分区、逻辑分区一样,是一种分区类型。主分区中不能再划分其他类型的分区,因此每个主分区都相当于一个逻辑磁盘\(在这一点上主分区和逻辑分区很相似,但主分区是直接在硬盘上划分的,逻辑分区则必须建立于扩展分区中\)。

一个硬盘可以有1到3个主分区和1个扩展分区\(相当于一个主分区\),也可以只有主分区而没有扩展分区,但主分区必须至少有1个,扩展分区则最多只有1个,且主分区\+扩展分区总共不能超过4个。逻辑分区可以有若干个。

__GPT分区表中所有分区都是主分区。__

- 
	1. []()扩展分区

分出主分区后,其余的部分可以分成扩展分区,一般是剩下的部分全部分成扩展分区,也可以不全分,剩下的部分就浪费了。

- 
	1. []()逻辑分区

扩展分区不能直接使用,必须分成若干逻辑分区。所有的逻辑分区都是扩展分区的一部分。

硬盘的容量=主分区的容量\+扩展分区的容量;   扩展分区的容量=各个逻辑分区的容量之和。

- 
	1. []()激活分区

或者引导分区。

激活的主分区会成为“引导分区”\(或称为“启动分区”\),引导分区会被操作系统和主板认定为第一个逻辑磁盘\(在DOS/Windows中会被识别为“驱动器C:”或“本地磁盘C:”,即通称的C盘\)。有关DOS/Windows启动的重要文件,如引导记录、boot\.ini、ntldr、ntdetect\.com等,必须放在引导分区中。

不管使用哪种分区软件，我们在给新硬盘上建立分区时都要遵循以下的顺序：建立主分区→建立扩展分区→建立逻辑分区→激活主分区→格式化所有分区，要从硬盘上引导操作系统，首先需激活这块硬盘上的一个主分区（同时应避免激活多个主分区，会造成系统的混乱。

- 
	1. []()高级格式化

高级格式化又称逻辑格式化，它是指根据用户选定的文件系统（如FAT12、FAT16、FAT32、NTFS、EXT2、EXT3等），在磁盘的特定区域写入特定数据，以达到初始化磁盘或磁盘分区、清除原磁盘或磁盘分区中所有文件的一个操作。高级格式化包括对主引导记录中分区表相应区域的重写、根据用户选定的文件系统，在分区中划出一片用于存放文件分配表、目录表等用于文件管理的磁盘空间，以便用户使用该分区管理文件。

简单地说，格式化就是为磁盘做初始化的工作，以便我们能够按部就班地往磁盘上记录资料。好比我们有一所大房子要用来存放书籍，我们不会搬来书往屋里地上一扔了事，而是要先在里面支起书架，标上类别，把书分门别类地放好。

我们新购买的磁盘在使用之前，要能让操作系统认得它，要先写入一些磁性的记号到磁盘上的每一扇区，便可在该操作系统下取用磁盘上的数据，这个动作就称为格式化。

1. []()GPT分区与MBR分区

参考资料：https://jingyan\.baidu\.com/article/215817f792b4cc1eda142336\.html

GPT（GUID Partition Table）分区和MBR（Master Boot Record）分区。

最先出现在Windows8中设置新磁盘，系统会询问你是想要使用MBR还是GPT分区，GPT是一种新的硬盘分区标准。GPT带来了很多新特性，最大支持18EB的大容量（EB=1024 PB，PB=1024 TB）；MBR最大只支持2TB，但拥有最好的兼容性。

- 
	1. []()MBR分区

MBR的意思是“主引导记录”，是IBM公司提出的。它是存在于磁盘驱动器开始部分的一个特殊的启动扇区。这个扇区包含了已安装的操作系统系统信息，并用一小段代码来启动系统。如果你安装了Windows，其启动信息就放在这一段代码中——如果MBR的信息损坏或误删就不能正常启动Windows，这时候你就需要找一个引导修复软件工具来修复它就可以了。Linux系统中MBR通常会是GRUB加载器。MBR。当一台电脑启动时，它会先启动主板自带的BIOS系统，bios加载MBR，MBR再启动Windows，这就是mbr的启动过程。

- 
	1. []()GPT分区

GPT的意思是GUID Partition Table，即“全局唯一标识磁盘分区表”，是一个正逐渐取代MBR的新标准。这个标准没有MBR的那些限制，磁盘驱动器容量可以大得多，大到操作系统和文件系统都没法支持。它同时还支持几乎无限个分区数量，限制只在于操作系统，Windows支持最多128个GPT分区。通过UEFI，所有的64位的win10，win8，win7，以及所对应的服务器都能从GPT启动。

现在的电脑硬盘分区基本采用EFI加GPT方式启动，如果要用原来的系统安装方式是启动不了系统的，因为找不到MBR启动引导程序。

MBR利用BIOS寻找启动代码，而GPT使用BIOS寻找EFI启动引导程序。
