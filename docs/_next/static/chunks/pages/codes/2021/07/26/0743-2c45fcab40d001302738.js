_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[66],{q1J4:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/codes/2021/07/26/0743",function(){return e("ygqZ")}])},ygqZ:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return u}));var r=e("rePB"),o=e("Ff2n"),i=(e("q1tI"),e("7ljp")),a=e("3wrV");function c(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?c(Object(e),!0).forEach((function(n){Object(r.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var l={};function u(t){var n=t.components,e=Object(o.a)(t,["components"]);return Object(i.a)("wrapper",s(s(s({},l),e),{},{components:n,mdxType:"MDXLayout"}),Object(i.a)("h1",null,"\u65b0\u589e\u6309\u94ae\u7ec4\u4ef6"),Object(i.a)("h2",null,"\u7ec4\u4ef6\u4ee3\u7801"),Object(i.a)(a.a,{lan:"ts",code:"\nimport router from 'next/router';\nimport Button from './button';\nimport { ReactNode } from 'react';\nimport { Modal, Form, message } from 'antd';\nimport { useState } from 'react';\n\nexport default function AddButton({ children, dlgtitle, onSave }: { children: ReactNode; dlgtitle: string; onSave(): Promise<true | string>; }) {\n\tconst [visible, setvisible] = useState(false);\n\tconst [confirmLoading, setConfirmLoading] = useState(false);\n\treturn <>\n\t\t<div className='e'>\n\t\t\t<Button value='\u65b0\u589e' onClick={() => {\n\t\t\t\tsetvisible(true);\n\t\t\t}} />\n\t\t</div>\n\t\t<Modal\n\t\t\tconfirmLoading={confirmLoading}\n\t\t\ttitle={dlgtitle || '\u65b0\u589e'}\n\t\t\tvisible={visible}\n\t\t\tonCancel={() => {\n\t\t\t\tif (confirmLoading) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetConfirmLoading(false);\n\t\t\t\tsetvisible(false);\n\t\t\t}}\n\t\t\tfooter={null}\n\t\t>\n\t\t\t<Form layout='horizontal'>{children}\n\t\t\t\t<div className='footer'>\n\t\t\t\t\t<Button value='\u4fdd\u5b58' onClick={async () => {\n\t\t\t\t\t\tif (confirmLoading) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetConfirmLoading(true);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst data = await onSave();\n\t\t\t\t\t\t\tif (data === true) {\n\t\t\t\t\t\t\t\tmessage.success({ content: '\u4fdd\u5b58\u6210\u529f' });\n\t\t\t\t\t\t\t\trouter.reload();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmessage.error({ content: data });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tsetConfirmLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}} />\n\t\t\t\t</div>\n\t\t\t</Form>\n\t\t</Modal>\n\t\t<style jsx>{`\n.footer{\n\tdisplay: flex;\n\tjustify-content: center;\n}\n.e{\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tmargin: 0.5rem 0;\n}\n`}</style>\n\t</>;\n}\n",mdxType:"CodeEditor"}),Object(i.a)("h2",null,Object(i.a)("a",s({parentName:"h2"},{href:"./1304"}),"Button\u7ec4\u4ef6")))}u.isMDXComponent=!0}},[["q1J4",0,1,2,4,3,5]]]);