_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[70],{"6fWG":function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/codes/2021/07/26/0853",function(){return e("LrnM")}])},LrnM:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return u}));var o=e("rePB"),r=e("Ff2n"),i=(e("q1tI"),e("7ljp")),a=e("3wrV");function c(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?c(Object(e),!0).forEach((function(n){Object(o.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var l={};function u(t){var n=t.components,e=Object(r.a)(t,["components"]);return Object(i.a)("wrapper",s(s(s({},l),e),{},{components:n,mdxType:"MDXLayout"}),Object(i.a)("h1",null,"\u901a\u7528\u7f16\u8f91\u6309\u94ae\u7ec4\u4ef6"),Object(i.a)("h2",null,"\u7ec4\u4ef6\u4ee3\u7801"),Object(i.a)(a.a,{lan:"ts",code:"\nimport { Modal, Form, message } from 'antd';\nimport { ReactNode } from 'react';\nimport router from 'next/router';\nimport IconButton from \"./iconbutton\";\nimport { useState } from 'react';\nimport Button from './button';\n\nexport default function EditButton({ children, dlgtitle, onSave }: { children: ReactNode; dlgtitle: string; onSave(): Promise<true | string>; }) {\n\tconst [visible, setvisible] = useState(false);\n\tconst [confirmLoading, setConfirmLoading] = useState(false);\n\treturn <>\n\t\t<IconButton img='/images/edit.svg' label='\u7f16\u8f91' onClick={() => {\n\t\t\tsetvisible(true);\n\t\t}} />\n\t\t<Modal confirmLoading={confirmLoading} title={dlgtitle || '\u7f16\u8f91'} visible={visible} onCancel={() => {\n\t\t\tsetConfirmLoading(false);\n\t\t\tsetvisible(false);\n\t\t}} footer={null} >\n\t\t\t<Form layout='horizontal'>\n\t\t\t\t{children}\n\t\t\t\t<div className='footer'>\n\t\t\t\t\t<Button value='\u4fdd\u5b58' onClick={async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst ok = await onSave();\n\t\t\t\t\t\t\tif (ok === true) {\n\t\t\t\t\t\t\t\tmessage.success({ content: '\u4fdd\u5b58\u6210\u529f' });\n\t\t\t\t\t\t\t\trouter.reload();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmessage.error({ content: ok });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tsetConfirmLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}} />\n\t\t\t\t</div>\n\t\t\t</Form>\n\t\t</Modal>\n\t\t<style jsx>{`\n.footer{\n\tdisplay: flex;\n\tjustify-content: center;\n}\n`}</style>\n\t</>;\n}\n",mdxType:"CodeEditor"}),Object(i.a)("h2",null,"\u56fe\u6807"),Object(i.a)("p",null,Object(i.a)("img",s({parentName:"p"},{src:"/images/edit.svg",alt:"\u7f16\u8f91\u56fe\u6807"}))),Object(i.a)("h2",null,Object(i.a)("a",s({parentName:"h2"},{href:"./0903"}),"\u56fe\u6807\u6309\u94ae\u7ec4\u4ef6")))}u.isMDXComponent=!0}},[["6fWG",0,1,2,3,4,5]]]);